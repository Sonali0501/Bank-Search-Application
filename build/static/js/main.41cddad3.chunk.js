(this["webpackJsonpbank-search"]=this["webpackJsonpbank-search"]||[]).push([[0],{144:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(13),r=a.n(c),s=(a(74),a(18)),i=a(7),o=a(17),l=a.n(o),u=a(22),d=a(14),b=["MUMBAI","PUNE","SOLAPUR","BANGLORE","BEED"],j=[10,20,30,40,50],h=a(1),f=function(e){var t=e.label,a=e.dataList,n=e.initialValue,c=e.onChange;return Object(h.jsxs)("div",{className:"dropdown",children:[Object(h.jsxs)("label",{children:[t,": "]}),Object(h.jsx)("select",{className:"form-control",style:{display:"initial",width:"max-content"},onChange:function(e){return c(e.target.value)},children:a.map((function(e,t){return Object(h.jsx)("option",{selected:n===e,value:e,children:e},t)}))})]})},O=function(e){var t=e.onSearch,a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],s=c[1];return Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",value:r,onChange:function(e){return a=e.target.value,s(a),void t(a);var a}})},v=a(62),p=a.n(v),m=a(63),x=a.n(m),k=function(e){var t=e.pagination,a=e.itemsPerPage,c=e.search,r=e.data,i=Object(n.useMemo)((function(){var e=r;return c&&(e=e.filter((function(e){return e.bank_name.toLowerCase().includes(c.toLowerCase())||e.branch.toLowerCase().includes(c.toLowerCase())||e.ifsc.toLowerCase().includes(c.toLowerCase())}))),e}),[c,a]),o={sizePerPage:a,hideSizePerPage:!0,hidePageListOnlyOnePage:!0},l=[{dataField:"bank_id",text:"Bank ID"},{dataField:"bank_name",text:"Bank Name",formatter:t?function(e,t,a,n){return Object(h.jsx)("div",{children:Object(h.jsxs)(s.b,{to:"/banks/".concat(t.ifsc),children:[" ",e," "]})})}:""},{dataField:"ifsc",text:"IFSC"},{dataField:"branch",text:"Branch"}];return Object(h.jsx)(p.a,{className:"table",keyField:"ifsc",data:i,columns:l,pagination:t?x()(o):null})},g=a(64),y=a.n(g).a.create({baseURL:"http://vast-shore-74260.herokuapp.com"}),N="ADD_FAVOURITE",S="REMOVE_FAVOURITE",w="GET_DATA",F="SET_CITY",C=function(e){return{type:S,payload:e}},E=a(16),B=Object(E.b)((function(e){return{banks:e.banks,city:e.city}}),{fetchData:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/banks?city=".concat(e));case 2:n=t.sent,a({type:w,payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCityState:function(e){return{type:F,payload:e}}})((function(e){var t=Object(n.useState)(""===e.city?b[0]:e.city),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(j[0]),i=Object(d.a)(s,2),o=i[0],v=(i[1],Object(n.useState)("")),p=Object(d.a)(v,2),m=p[0],x=p[1],g=Object(n.useState)(!1),y=Object(d.a)(g,2),N=y[0],S=y[1];return Object(n.useEffect)((function(){(function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.next=3,e.fetchData(c).then((function(){S(!1),console.log(e.banks)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){e.setCityState(c),function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.next=3,e.fetchData(c).then((function(){S(!1),console.log(e.banks)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[c]),Object(h.jsxs)("div",{className:"bank-list",children:[Object(h.jsxs)("div",{className:"sub-header",children:[Object(h.jsx)(f,{label:"Choose City",initialValue:c,dataList:b,onChange:function(e){return r(e)}}),Object(h.jsx)(O,{onSearch:function(e){return x(e)}})]}),N?Object(h.jsx)("div",{className:"loader",children:"Loading... "}):Object(h.jsx)(k,{itemsPerPage:o,pagination:!0,search:m,data:e.banks})]})})),L=Object(E.b)((function(e){return{favourites:e.favourites}}),{removeFavourite:C})((function(e){return Object(h.jsxs)("div",{className:"favourites",children:[Object(h.jsx)("h4",{className:"text-center",children:"Favourite Banks"}),0===e.favourites.length?Object(h.jsx)("div",{className:"no",children:"No Favourites Added"}):Object(h.jsx)(k,{data:e.favourites})]})})),A=Object(E.b)((function(e,t){return{bank:e.banks.filter((function(e){return e.ifsc==t.match.params.id})),favourites:e.favourites}}),{addFavourite:function(e){return{type:N,payload:e}},removeFavourite:C})((function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=e.favourites.filter((function(t){return t.ifsc===e.match.params.id}));console.log(t),0===t.length?r(!1):r(!0)}),[e.favourites]),console.log(e.bank,c),Object(h.jsxs)("div",{className:"bank-details",children:[Object(h.jsx)("h4",{className:"text-center",children:"Bank Details"}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("p",{className:"label",children:"Bank Name : "}),Object(h.jsx)("p",{className:"data",children:e.bank[0].bank_name})]}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("p",{className:"label",children:"Bank ID : "}),Object(h.jsx)("p",{className:"data",children:e.bank[0].bank_id})]}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("p",{className:"label",children:"Branch : "}),Object(h.jsx)("p",{className:"data",children:e.bank[0].branch})]}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("p",{className:"label",children:"IFSC : "}),Object(h.jsx)("p",{className:"data",children:e.bank[0].ifsc})]}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("p",{className:"label",children:"Address : "}),Object(h.jsx)("p",{className:"data",children:e.bank[0].address})]}),Object(h.jsx)("button",{onClick:function(){return c?e.removeFavourite(e.bank[0].ifsc):e.addFavourite(e.bank[0])},children:c?"Remove from Favourites":"Add To Favourite"})]})})),P=function(){return Object(h.jsxs)("div",{id:"header",children:[Object(h.jsx)(s.b,{to:"/",children:Object(h.jsx)("h2",{children:"Banks Search App"})}),Object(h.jsx)(s.b,{to:"/banks/favourites",children:Object(h.jsx)("button",{children:"My Favourites"})})]})},D=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(s.a,{children:[Object(h.jsx)(P,{}),Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{path:"/",component:B,exact:!0}),Object(h.jsx)(i.a,{path:"/banks/favourites",component:L,exact:!0}),Object(h.jsx)(i.a,{path:"/banks/:id",component:A,exact:!0})]})]})})},I=a(15),_=a(68),R=Object(I.combineReducers)({banks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.payload;default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return[].concat(Object(_.a)(e),[t.payload]);case S:return e.filter((function(e){return e.ifsc!==t.payload}));default:return e}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return t.payload;default:return e}}}),T=a(66),M=a(67);var U=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),V=Object(I.createStore)(R,U,Object(M.composeWithDevTools)(Object(I.applyMiddleware)(T.a)));V.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(V.getState())})),r.a.render(Object(h.jsx)(E.a,{store:V,children:Object(h.jsx)(D,{})}),document.getElementById("root"))},74:function(e,t,a){}},[[144,1,2]]]);
//# sourceMappingURL=main.41cddad3.chunk.js.map